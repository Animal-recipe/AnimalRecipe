{% extends 'base.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/question/question.css' %}">
<script type="text/javascript" src="{% static 'js/question/question.js' %}"></script>

<div id="navBarBox" style="height: 130px;">
    {% include 'nav.html' %}
</div>

<div class="questionListBox">
    <form class="searchBarBox" action="{% url 'question:search' %}" method="POST">
        {% csrf_token %}
        <input class="searchBar" placeholder="질문을 검색해 보세요!" name="q" value="{{q}}">
        <button type="submit" class=""><img src="{% static 'img/question/searchButton.png' %}" width="23.32px" height="23.32px"></button>
    </form>

        <div style="display:flex;justify-content:flex-end;">
            <a href="{% url 'question:create_question' %}" class="questionCreateBtn btn"><span>질문하기</span><img src="{% static 'img/question/createButton.png' %}"></a>
        </div>
    
        <div>
            <ul>
                <li class="listHead">
                    <div class="nullCell"></div>
                    <div class="idCell">번호</div>
                    <div class="titleCell">제목</div>
                    <div class="authorCell" style="background: none;">작성자</div>
                    <div class="answerCountCell">답변 수</div>
                    <div class="createdCell" style="background: none;">작성일</div>
                    <div class="nullCell"></div>
                </li>
            </ul>
            {% if questions %}
            <div class="listContent">
            {% for question in questions %}
                <ul class="listRow">
                    <div class="nullCell cellBox"></div>
                    <div class="idCell cellBox"><span>{{ question.id }}</span></div>
                    <div class="titleCell cellBox">
                        <p class="qTitle">
                            <img src="{% static 'img/question/questionMark.png' %}" width="33px" height="33px">
                            <a href="{% url 'question:detail' question.id %}" style="color:#575757">{{ question.title }}</a>
                        </p>
                        <p class="qContent">{{question.content}}</p>
                    </div>
                    <div class="authorCell cellBox"><span>{{ question.author.nickname }}</span></div>
                    <div class="answerCountCell cellBox"><span>{{ question.id }}</span></div>
                    <div class="createdCell cellBox"><span>{{ question.created|date:"y.m.d" }}</span></div>
                    <div class="nullCell cellBox"></div>
                </ul>
                {% endfor %}
            </div>
            {% endif %}
        </div>
</div>
{% include 'footer.html' %}
{% endblock %}