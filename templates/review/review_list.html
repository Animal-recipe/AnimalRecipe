{% extends 'base.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/recipe/recipe_list.css' %}">
<script type="text/javascript" src="{% static 'js/recipe/recipe_list.js' %}"></script>

<div class="image_list"  style="">
    {% if best_review_dict %}
    {% for item, image in best_review_dict.items %}
        {% if image %}
        <div style="border-radius: 0px 0px 80px 80px; width: 100%; height: 550px; background-image: linear-gradient( rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3) ),url('{{ image }}'); background-size: 100%;">
            <div style="padding: 0 145px;">
                {% include 'nav.html' %}
            </div>
            <div class="hot_recipe" style="margin-bottom:15px;">이번주 Best 후기</div>
            <p class="hot_title" style="color:white;"> {{ item.title }}</p>
            <p class="hot_summary" style="color:white;"> {{ item.content }}</p>
        </div>
        {% else %}
            <div style="border-radius: 0px 0px 80px 80px; width: 100%; height: 550px; background: black; ">
                <div style="padding: 0 145px;">
                    {% include 'nav.html' %}
                </div>
                <div class="hot_recipe" style="margin-bottom:15px;">이번주 Best 후기</div>
                <p class="hot_title" style="color:white;"> {{ item.title }}</p>
                <p class="hot_summary" style="color:white;"> {{ item.summary }}</p>
            </div>
        {% endif %}
    {% endfor %}
    {% else %}
    <div style="border-radius: 0px 0px 80px 80px; width: 100%; height: 550px; background: black; ">
        <div style="padding: 0 145px;">
            {% include 'nav.html' %}
        </div>
    </div>
    {% endif %}
</div>

<div style="margin: 0 auto; width:100%;">
    <div style="margin-top:52px; overflow:hidden; position:relative; height:185px; padding: 0 200px;">
        <form style="" class="form-inline my-2 my-lg-0" action="" method="POST">
            {% csrf_token %}
            <div style="width: 55%; position:relative;">
                <input class="search" class="form-control mr-sm-2" type="search" placeholder="요리를 검색해 보세요!" aria-label="Search" name="query_str" value="{{query_str}}">
                <button class="search_btn" type="submit" style="position:absolute; top:9px; right:7px; border: 0px solid white; background-color:white;">
                    <img class="search_icon" src="{% static 'img/recipe/recipe_home/search.png' %}"/>
                </button>
            </div>

            <div class="dropdown show" style="width:15%; word-break : break-all">
                <a id="dropdown_font1" class="btn btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    반려 동물
                </a>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuLink" id="more1">
                    <a class="dropdown-item" href="#">강아지</a>
                    <a class="dropdown-item" href="#">고양이</a>
                    <a class="dropdown-item" href="#">다른 동물</a>
                </div>
            </div>
            <div class="dropdown show" style="width:15%;">
                <a id="dropdown_font2" class="btn btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    조리 시간
                </a>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuLink" id="more2">
                    <a class="dropdown-item" href="#">5분 이내</a>
                    <a class="dropdown-item" href="#">5분 - 10분</a>
                    <a class="dropdown-item" href="#">10분 - 20분</a>
                    <a class="dropdown-item" href="#">20분 이상</a>
                </div>
            </div>
            <div class="dropdown show" style="width:15%;">
                <a id="dropdown_font3" class="btn btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    정렬 방식
                </a>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuLink" id="more3">
                    <a class="dropdown-item" href="#">최신순</a>
                    <a class="dropdown-item" href="#">후기 많은 순</a>
                    <a class="dropdown-item" href="#">공감 순</a>
                </div>
            </div>
        </form>
    </div>
       <div>
        <div style="padding: 0 200px; overflow:auto; width:100%;">
            {% if review_dict %}
                {% for item, image in review_dict.items %}
                <div class="recipe_size" onclick = "location.href='{% url 'review:detail_review' review_id=item.id %}'" >
                    {% if image %}
                        <img class="recipe_img" src="{{ image }}" class="card-img-top" alt="사진">
                    {% else %}
                        <p class="recipe_img" style="text-align: center; padding-top:100px; font-family: Noto Sans; font-weight: bold;">이미지가 없습니다</p>
                    {% endif %}
                    <div style="padding: 0 22px;">
                        <p class="recipe_title">"{{ item.title_limit }}"</p>
                        <div>
                            <p style="float:left;width: 20px;height: 20px;margin-top:7px;border-radius: 27px; background: #C4C4C4;"><img class="user_img" src="{{ item.author.profile.url }}"></p>
                            <p class="recipe_id">{{ item.author.nickname }}</p>
                        </div>
                        <div style="margin-top:12px;">
                            <p class="recipe_animal" style="background: #FF8B00;">{{ item.recipe.animal }}</p>
                            <p class="recipe_time">{{ item.recipe.cooking_time }}</p>
                        </div>
                        <div style="margin-top:12px; float: right; width:30%;">
                            <p class="star" style="height: 20px; line-height: 20px; text-align:center; color: #FFFFFF; background: #1B1B1B; border-radius: 12.8413px; word-break : break-all; white-space: nowrap; overflow:hidden;"> ★   {{ item.star }}.0</p>
                        </div>
                    </div>
                </div>
                {% endfor %}
            {% endif %}
        </div>
    </div>
</div>


{% endblock %}
